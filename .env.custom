# ============================================
# CUSTOM CONFIGURATION FOR WA-EVOLUTION-API
# ============================================
# This file contains recommended settings for the fork
# Copy to .env and customize for your environment

# ============================================
# SERVER
# ============================================
SERVER_NAME=wa-evolution
SERVER_TYPE=http
SERVER_PORT=8080
SERVER_URL=https://evolution.yourdomain.com

# Disable docs and manager in production
DISABLE_DOCS=false
DISABLE_MANAGER=false

# ============================================
# CORS
# ============================================
CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# ============================================
# DATABASE (PostgreSQL - Mandatory)
# ============================================
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://user:pass@host:5432/evolution_db?schema=evolution_api
DATABASE_CONNECTION_CLIENT_NAME=wa_evolution_api

# Save data settings
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true
DATABASE_SAVE_IS_ON_WHATSAPP=true
DATABASE_SAVE_IS_ON_WHATSAPP_DAYS=7
DATABASE_DELETE_MESSAGE=true

# ============================================
# REDIS (Mandatory)
# ============================================
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://:password@host:6379/0
CACHE_REDIS_PREFIX_KEY=wa-evolution
CACHE_REDIS_TTL=604800
CACHE_REDIS_SAVE_INSTANCES=true
CACHE_LOCAL_ENABLED=false

# ============================================
# STORAGE (S3)
# ============================================
S3_ENABLED=true
S3_ACCESS_KEY=                    # Via IAM Role in production
S3_SECRET_KEY=                    # Via IAM Role in production
S3_BUCKET=wa-evolution-media
S3_REGION=us-east-1
S3_ENDPOINT=                      # Leave empty for AWS S3
S3_PORT=9000
S3_USE_SSL=true
S3_SKIP_POLICY=false
S3_SAVE_VIDEO=true

# ============================================
# AUTHENTICATION
# ============================================
AUTHENTICATION_API_KEY=your-secure-api-key-here
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=false

# ============================================
# WEBHOOK (Global webhook for wa-connector-api)
# ============================================
WEBHOOK_GLOBAL_ENABLED=true
WEBHOOK_GLOBAL_URL=http://wa-connector-api.internal:3001/webhook/evolution
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Webhook events configuration
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_MESSAGES_DELETE=true
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_CONTACTS_SET=true
WEBHOOK_EVENTS_CONTACTS_UPSERT=true
WEBHOOK_EVENTS_CONTACTS_UPDATE=true
WEBHOOK_EVENTS_PRESENCE_UPDATE=true
WEBHOOK_EVENTS_CHATS_SET=true
WEBHOOK_EVENTS_CHATS_UPSERT=true
WEBHOOK_EVENTS_CHATS_UPDATE=true
WEBHOOK_EVENTS_CHATS_DELETE=true
WEBHOOK_EVENTS_GROUPS_UPSERT=true
WEBHOOK_EVENTS_GROUPS_UPDATE=true
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_LABELS_EDIT=true
WEBHOOK_EVENTS_LABELS_ASSOCIATION=true
WEBHOOK_EVENTS_CALL=true
WEBHOOK_EVENTS_TYPEBOT_START=false
WEBHOOK_EVENTS_TYPEBOT_CHANGE_STATUS=false
WEBHOOK_EVENTS_ERRORS=true
WEBHOOK_EVENTS_ERRORS_WEBHOOK=true

# ============================================
# INSTANCE SETTINGS
# ============================================
CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome
DEL_INSTANCE=false
DEL_TEMP_INSTANCES=true
QRCODE_LIMIT=30
QRCODE_COLOR=#198754

# ============================================
# LOG
# ============================================
LOG_LEVEL=ERROR,WARN,INFO
LOG_COLOR=false
LOG_BAILEYS=error

# ============================================
# INTEGRATIONS - DISABLED (not used in our stack)
# ============================================
CHATWOOT_ENABLED=false
TYPEBOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
N8N_ENABLED=false
EVOAI_ENABLED=false
FLOWISE_ENABLED=false

# ============================================
# MESSAGE QUEUES - DISABLED (using webhooks)
# ============================================
RABBITMQ_ENABLED=false
SQS_ENABLED=false
KAFKA_ENABLED=false
NATS_ENABLED=false

# ============================================
# WEBSOCKET - DISABLED
# ============================================
WEBSOCKET_ENABLED=false

# ============================================
# METRICS (Optional)
# ============================================
PROMETHEUS_METRICS=true
METRICS_AUTH_REQUIRED=true
METRICS_USER=prometheus
METRICS_PASSWORD=change-this-password
METRICS_ALLOWED_IPS=127.0.0.1,10.0.0.0/8

# ============================================
# TELEMETRY
# ============================================
TELEMETRY_ENABLED=false

# ============================================
# SENTRY (Optional)
# ============================================
SENTRY_DSN=
